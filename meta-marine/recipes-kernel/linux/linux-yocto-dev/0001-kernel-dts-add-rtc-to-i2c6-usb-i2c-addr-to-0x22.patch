From 0e565d9fd2b4d04a5e9d64b4ddd3f4034e02aadc Mon Sep 17 00:00:00 2001
From: Trinh Viet Quang <vietquang0708@gmail.com>
Date: Wed, 3 Sep 2025 17:38:53 +0700
Subject: [PATCH] kernel: dts: add rtc to i2c6, usb i2c addr to 0x22

Upstream-Status: Inappropriate [oe specific]

Signed-off-by: Trinh Viet Quang <vietquang0708@gmail.com>
---
 .../boot/dts/rockchip/rk3588-nanopc-t6.dtsi   | 34 ++++++++-----------
 1 file changed, 14 insertions(+), 20 deletions(-)

diff --git a/arch/arm64/boot/dts/rockchip/rk3588-nanopc-t6.dtsi b/arch/arm64/boot/dts/rockchip/rk3588-nanopc-t6.dtsi
index 6cbde7bcd5cb..5742da90ce80 100644
--- a/arch/arm64/boot/dts/rockchip/rk3588-nanopc-t6.dtsi
+++ b/arch/arm64/boot/dts/rockchip/rk3588-nanopc-t6.dtsi
@@ -498,6 +498,18 @@ regulator-state-mem {
 &i2c6 {
 	status = "okay";
 
+	hym8563: rtc@51 {
+		status = "okay";
+		compatible = "haoyu,hym8563";
+		reg = <0x51>;
+		#clock-cells = <0>;
+		clock-output-names = "hym8563";
+		pinctrl-names = "default";
+		pinctrl-0 = <&hym8563_int>;
+		interrupt-parent = <&gpio0>;
+		interrupts = <RK_PB0 IRQ_TYPE_LEVEL_LOW>;
+		wakeup-source;
+	};
 	//===============================================
 	// This is the FUSB302 Type-C controller
 	// ADDED: 2025-08-22
@@ -506,9 +518,9 @@ &i2c6 {
 	// - I2C address from 0x22 to 0x44
 	// - REMOVE: RTC in i2c6 and added to i2c8
 	//===============================================
-	usbc0: usb-typec@44 {
+	usbc0: usb-typec@22 {
 		compatible = "fcs,fusb302";
-		reg = <0x44>;
+		reg = <0x22>;
 		interrupt-parent = <&gpio0>;
 		interrupts = <RK_PD3 IRQ_TYPE_LEVEL_LOW>;
 		pinctrl-names = "default";
@@ -596,26 +608,8 @@ es8316_p0_0: endpoint {
 };
 
 &i2c8 {
-	//===============================================
-	// ADDED: 2025-08-22
-	// AUTHOR: QUANG TV
-	// CHAGED:
-	// - ADD: RTC
-	//===============================================
 	pinctrl-0 = <&i2c8m2_xfer>;
 	status = "okay";
-	hym8563: rtc@51 {
-		status = "okay";
-		compatible = "haoyu,hym8563";
-		reg = <0x51>;
-		#clock-cells = <0>;
-		clock-output-names = "hym8563";
-		pinctrl-names = "default";
-		pinctrl-0 = <&hym8563_int>;
-		interrupt-parent = <&gpio0>;
-		interrupts = <RK_PB0 IRQ_TYPE_LEVEL_LOW>;
-		wakeup-source;
-	};
 };
 
 &i2s0_8ch {
-- 
2.43.0

